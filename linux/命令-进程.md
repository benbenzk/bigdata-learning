<table>
  <tbody>
    <tr>
      <td colspan=3><i><b>进程状态</b></i></td>
    </tr>
    <tr>
      <td>R</td>
      <td>Runnable（运行）</td>
      <td>正在运行或在运行队列中等待</td>
    </tr>
    <tr>
      <td>S</td>
      <td>Sleeping（中断）</td>
      <td>休眠中，受阻，在等待某个条件的形成或接收到信号</td>
    </tr>
    <tr>
      <td>D</td>
      <td>Uninterruptible Sleep（不可中断）</td>
      <td>进程正在等待 I/O，比方说，一个磁盘驱动 器的 I/O。</td>
    </tr>
    <tr>
      <td>Z</td>
      <td>Zombie（僵死）</td>
      <td>
        一个死进程或“僵尸”进程。<br/>
        这是一个已经终止的子进程， 但是它的父进程还没有清空它。<br/>
        (父进程没有把子进程从进程表中删除)
      </td>
    </tr>
    <tr>
      <td>T</td>
      <td>Traced or Stopped（停止）</td>
      <td>进程收到SiGSTOP,SIGSTP,SIGTOU信号后停止运行</td>
    </tr>
    <tr>
      <td colspan=3><i><b>进程状态后缀</b></i></td>
    </tr>
    <tr>
      <td><</td>
      <td colspan=2>优先级高的进程</td>
    </tr>
    <tr>
      <td>N</td>
      <td colspan=2>优先级低的进程</td>
    </tr>
    <tr>
      <td>L</td>
      <td colspan=2>有些页被锁紧内存</td>
    </tr>
    <tr>
      <td>s</td>
      <td colspan=2>进程的领导者（在它之下有子进程）</td>
    </tr>
    <tr>
      <td>l</td>
      <td colspan=2>ismulti-threaded(using CLONE_THREAD,like NPTL pthreads do)</td>
    </tr>
    <tr>
      <td>+</td>
      <td colspan=2>位于后台的进程组</td>
    </tr>
  </tbody>
</table>



#### ps — 报告当前进程快照

- 显示系统所有的进程

  ```
  [root@test ~]# ps -ef
  UID         PID   PPID  C STIME TTY          TIME CMD
  root          1      0  0 9月13 ?       00:00:03 /usr/lib/systemd/systemd --switched-root --system --deserialize 22
  root          2      0  0 9月13 ?       00:00:00 [kthreadd]
  root          4      2  0 9月13 ?       00:00:00 [kworker/0:0H]
  root          6      2  0 9月13 ?       00:01:23 [ksoftirqd/0]
  root          7      2  0 9月13 ?       00:00:00 [migration/0]
  root          8      2  0 9月13 ?       00:00:00 [rcu_bh]
  ........
  ```

- 通常与`grep`命令组合使用，需要用到管道`|`

  ```
  # 过滤系统内的python进程
  [root@test ~]# ps -ef | grep python
  root       902     1  0 12:33 ?        00:00:03 /usr/bin/python2 -Es /usr/sbin/firewalld --nofork --nopid
  root      1181     1  0 12:34 ?        00:00:26 /usr/bin/python2 -Es /usr/sbin/tuned -l -P
  root      1969  1658  0 19:35 pts/0    00:00:00 grep --color=auto python
  ```

#### netstat — 显示端口信息

- 比`ps`命令额外显示端口相关的信息，这个命令模式是没有安装的，使用yum安装

  ```
  [root@test ~]# yum install -y net-tools
  ```

- 常见用法：netstat -anp

  ```
  # 查看占用端口22的使用情况
  [root@test ~]# netstat -anp | grep 22
  tcp        0      0 0.0.0.0:80              0.0.0.0:*               LISTEN      32282/nginx: master
  tcp        0      0 0.0.0.0:22              0.0.0.0:*               LISTEN      795/sshd
  tcp        0      0 192.168.185.101:22      192.168.185.1:50628     ESTABLISHED 47468/sshd: root@pt
  tcp        0      0 192.168.185.101:9000    192.168.185.103:37122   ESTABLISHED 10053/java
  tcp6       0      0 :::22                   :::*                    LISTEN      795/sshd
  unix  2      [ ACC ]     STREAM     LISTENING     19822    931/master           private/anvil
  unix  3      [ ]         STREAM     CONNECTED     516385   32282/nginx: master
  unix  3      [ ]         STREAM     CONNECTED     516386   32282/nginx: master
  ```

#### jps — 显示Java进程

- 类似ps命令，不同的是ps是用来显示所有进程信息的，而jps只显示java进程信息

- 准确的说jps是显示当前用户已启动的java进程信息，信息包括进程号和简短的进程command

- **注意**：jps是java提供的命令，只有在安装配置好Java环境之后才能使用

  ```
  [root@bigdata01 ~]# jps
  11584 NodeManager
  36979 Kafka
  10053 NameNode
  10154 DataNode
  11755 JobHistoryServer
  48075 Jps
  23517 QuorumPeerMain
  ```

#### top — 动态监控进程信息

- 主要作用在于动态显示系统消耗资源最多的进程信息；包含进程ID、内存占用、CPU占用等

- 和ps命令作用基本相同，唯一的区别是top命令能够动态显示进程信息

  ![top信息](命令-进程.assets/top.png)

  **注意：这里的CPU是总体CPU的使用情况，如果是多核CPU，想查看每个CPU的使用情况，可以在监控模式中按键`1`**

  ![top-cpu信息](命令-进程.assets/top-cpu.png)

  按键`q`退出监控模式

#### kill — 终止进程 

- kill PID：杀掉进程，自杀

- kill -9 PID：强制杀掉进程，它杀

  ```
  [root@bigdata01 ~]# ps -ef
  UID         PID   PPID  C STIME TTY          TIME CMD
  root          1      0  0 9月13 ?       00:00:03 /usr/lib/systemd/systemd --switched-root --system --deserialize 22
  root          2      0  0 9月13 ?       00:00:00 [kthreadd]
  root          4      2  0 9月13 ?       00:00:00 [kworker/0:0H]n
  
  # kthreadd进程的PID值为2
  # 杀死进程 kill PID
  [root@bigdata01 ~]# kill 2
  
  # 强制杀死进程 kill -9 PID
  [root@bigdata01 ~]# kill -9 2
  ```

